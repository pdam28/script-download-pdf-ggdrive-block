# Script T·∫£i ·∫¢nh (Blob) sang PDF (Phi√™n b·∫£n Console)

![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)
![jsPDF](https://img.shields.io/badge/jsPDF-FF0000?style=for-the-badge&logo=adobeacrobatreader&logoColor=white)

ƒê√¢y l√† m·ªôt ƒëo·∫°n m√£ JavaScript m·∫°nh m·∫Ω ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ch·∫°y tr·ª±c ti·∫øp trong Console c·ªßa tr√¨nh duy·ªát. N√≥ t·ª± ƒë·ªông qu√©t, cu·ªôn v√† t·∫£i xu·ªëng t·∫•t c·∫£ c√°c h√¨nh ·∫£nh c√≥ ngu·ªìn `blob:` tr√™n m·ªôt trang web v√† t·ªïng h·ª£p ch√∫ng th√†nh m·ªôt file PDF duy nh·∫•t.

---

## üåü T√≠nh nƒÉng ch√≠nh

* **T·ª± ƒë·ªông cu·ªôn th√¥ng minh**: T·ª± ƒë·ªông cu·ªôn trang ch√≠nh V√Ä **t·∫•t c·∫£ c√°c khung cu·ªôn con** b√™n trong ƒë·ªÉ k√≠ch ho·∫°t "lazy loading", ƒë·∫£m b·∫£o thu th·∫≠p ƒë·ªß 100% ·∫£nh.
* **T·ªïng h·ª£p PDF**: S·ª≠ d·ª•ng th∆∞ vi·ªán `jsPDF` (t·∫£i t·ª± ƒë·ªông) ƒë·ªÉ gh√©p t·∫•t c·∫£ ·∫£nh t√¨m ƒë∆∞·ª£c th√†nh m·ªôt file PDF duy nh·∫•t.
* **Ch·∫•t l∆∞·ª£ng cao**: Gi·ªØ nguy√™n ƒë·ªô ph√¢n gi·∫£i g·ªëc c·ªßa ·∫£nh (`naturalWidth`/`naturalHeight`) v√† t·ª± ƒë·ªông t√≠nh to√°n t·ªâ l·ªá `px` sang `pt` (0.75) ƒë·ªÉ PDF c√≥ k√≠ch th∆∞·ªõc ch√≠nh x√°c.
* **Th√¥ng b√°o tr·∫°ng th√°i**: Hi·ªÉn th·ªã m·ªôt h·ªôp th√¥ng b√°o tr·ª±c quan ·ªü g√≥c tr√™n b√™n ph·∫£i m√†n h√¨nh ƒë·ªÉ ng∆∞·ªùi d√πng bi·∫øt ch√≠nh x√°c ƒëi·ªÅu g√¨ ƒëang x·∫£y ra (v√≠ d·ª•: "ƒêang cu·ªôn...", "ƒêang x·ª≠ l√Ω ·∫£nh 5/150...").

---

## üöÄ H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng

Vui l√≤ng l√†m theo ch√≠nh x√°c c√°c b∆∞·ªõc sau:

1.  M·ªü trang web c√≥ ch·ª©a c√°c ·∫£nh `blob:` m√† b·∫°n mu·ªën t·∫£i.
2.  Nh·∫•n ph√≠m `F12` (ho·∫∑c `Ctrl+Shift+I` tr√™n Windows, `Cmd+Opt+I` tr√™n Mac) ƒë·ªÉ m·ªü c√¥ng c·ª• l·∫≠p tr√¨nh (Developer Tools).
3.  T√¨m v√† nh·∫•p v√†o tab c√≥ t√™n **`Console`**.
4.  ƒê·ªçc k·ªπ ph·∫ßn **C·∫¢NH B√ÅO B·∫¢O M·∫¨T** quan tr·ªçng ·ªü b√™n d∆∞·ªõi.
5.  Sao ch√©p (copy) **to√†n b·ªô** kh·ªëi m√£ trong ph·∫ßn [M√£ ngu·ªìn](#-m√£-ngu·ªìn-d√πng-ƒë·ªÉ-sao-ch√©p) b√™n d∆∞·ªõi.
6.  Quay l·∫°i tab `Console` trong tr√¨nh duy·ªát c·ªßa b·∫°n, d√°n (paste) m√£ v√†o v√† nh·∫•n `Enter`.
7.  Script s·∫Ω t·ª± ƒë·ªông ch·∫°y, b·∫°n s·∫Ω th·∫•y th√¥ng b√°o "Chu·∫©n b·ªã cu·ªôn trang..." ·ªü g√≥c tr√™n b√™n ph·∫£i.

---

## ‚ö†Ô∏è C·∫¢NH B√ÅO B·∫¢O M·∫¨T (Quan tr·ªçng!)

Khi b·∫°n d√°n m√£ v√†o `Console`, h·∫ßu h·∫øt c√°c tr√¨nh duy·ªát hi·ªán ƒë·∫°i (nh∆∞ Chrome, Firefox, Edge) s·∫Ω **hi·ªÉn th·ªã m·ªôt c·∫£nh b√°o b·∫£o m·∫≠t l·ªõn m√†u ƒë·ªè**.

N√≥ th∆∞·ªùng n√≥i ƒëi·ªÅu g√¨ ƒë√≥ nh∆∞ **"STOP!"** ho·∫∑c **"C·∫©n th·∫≠n!"** v√† ngƒÉn b·∫°n d√°n m√£ v√†o. ƒê√¢y l√† m·ªôt t√≠nh nƒÉng b·∫£o m·∫≠t b√¨nh th∆∞·ªùng ƒë·ªÉ ngƒÉn ng∆∞·ªùi l·∫° l·ª´a b·∫°n ch·∫°y m√£ ƒë·ªôc.



**ƒê·ªÉ v∆∞·ª£t qua c·∫£nh b√°o n√†y:**

* Tr√¨nh duy·ªát s·∫Ω y√™u c·∫ßu b·∫°n g√µ m·ªôt d√≤ng ch·ªØ ƒë·∫∑c bi·ªát (v√≠ d·ª•: **`allow pasting`** ho·∫∑c **`cho ph√©p d√°n`**) v√†o Console ƒë·ªÉ x√°c nh·∫≠n b·∫°n hi·ªÉu vi·ªác m√¨nh ƒëang l√†m.
* H√£y **g√µ ch√≠nh x√°c d√≤ng ch·ªØ ƒë√≥** v√† nh·∫•n `Enter`.
* Sau khi x√°c nh·∫≠n, **d√°n l·∫°i (paste) m√£ ngu·ªìn** ·ªü d∆∞·ªõi m·ªôt l·∫ßn n·ªØa v√† nh·∫•n `Enter`. L·∫ßn n√†y script s·∫Ω ch·∫°y.

---

## üìã M√£ ngu·ªìn (D√πng ƒë·ªÉ sao ch√©p)

Sao ch√©p **to√†n b·ªô** kh·ªëi m√£ d∆∞·ªõi ƒë√¢y:

```javascript
function _0x428b(){const _0x400de1=['overflowY','length','L·ªói:\x20Kh√¥ng\x20t·∫°o\x20ƒë∆∞·ª£c\x20file\x20PDF.','...','src','ƒêang\x20cu·ªôn\x20trang\x20ch√≠nh...','log','Kh√¥ng\x20th·ªÉ\x20t·∫£i\x20script\x20jsPDF.','getComputedStyle','jsPDF\x20ƒë√£\x20t·∫£i\x20xong.','clientHeight','img','6152992FlPSjw','.pdf','https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js','trustedTypes','152522nXnmSK','3585000YfEQea','Kh√¥ng\x20t√¨m\x20th·∫•y\x20·∫£nh\x20(blob)\x20n√†o.\x20Script\x20ƒë√£\x20cu·ªôn\x20t·ª±\x20ƒë·ªông\x20nh∆∞ng\x20kh√¥ng\x20th·∫•y\x20·∫£nh.','scroll','scrollHeight','width','ƒê√£\x20cu·ªôn\x20xong\x20trang\x20ch√≠nh.\x20T√¨m\x20ki·∫øm\x20khung\x20cu·ªôn\x20b√™n\x20trong...','Kh√¥ng\x20t√¨m\x20th·∫•y\x20·∫£nh\x20blob\x20n√†o.\x20(ƒê√£\x20cu·ªôn\x20h·∫øt\x20nh∆∞ng\x20kh√¥ng\x20c√≥\x20·∫£nh).','onload','166888ywGNsT','scrollTop','1499695NeWVrX','naturalWidth','textContent','appendChild','\x20·∫£nh\x20blob.','position:\x20fixed;\x20top:\x2010px;\x20right:\x2010px;\x20padding:\x2015px;\x20background-color:\x20#007bff;\x20color:\x20white;\x20z-index:\x209999;\x20border-radius:\x205px;\x20font-family:\x20sans-serif;','ƒêang\x20cu·ªôn\x20element:','createElement','Kh√¥ng\x20th·ªÉ\x20t·∫£i\x20th∆∞\x20vi·ªán\x20jsPDF.\x20Vui\x20l√≤ng\x20ki·ªÉm\x20tra\x20k·∫øt\x20n·ªëi\x20m·∫°ng.','B·∫Øt\x20ƒë·∫ßu\x20cu·ªôn\x20trang\x20ch√≠nh\x20(window)...','default','6641215IfuoOY','scrollY','error','ƒêang\x20t·∫£i\x20th∆∞\x20vi·ªán\x20jsPDF...','title','complete','drawImage','push','naturalHeight','save','T√¨m\x20th·∫•y\x20','removeChild','\x20ch∆∞a\x20t·∫£i\x20xong\x20ho·∫∑c\x20b·ªã\x20l·ªói,\x20b·ªè\x20qua.','from','querySelectorAll','createPolicy','addImage','onerror','toDataURL','ƒê√£\x20cu·ªôn\x20t·∫•t\x20c·∫£.\x20Ch·ªù\x202\x20gi√¢y\x20cho\x20·∫£nh\x20t·∫£i.','ƒêang\x20t√¨m\x20khung\x20cu·ªôn\x20b√™n\x20trong...','49nvRqrk','filter','forEach','createScriptURL','script','warn','·∫¢nh\x20','cssText','\x20·∫£nh.\x20B·∫Øt\x20ƒë·∫ßu\x20x·ª≠\x20l√Ω...','JPEG','L·ªói\x20khi\x20g√°n\x20URL\x20an\x20to√†n\x20(Trusted\x20Types):\x20','L·ªói\x20khi\x20x·ª≠\x20l√Ω\x20·∫£nh:','9SdkgZh','canvas','auto','ƒêang\x20x·ª≠\x20l√Ω\x20·∫£nh\x20','ƒê√£\x20xu·∫•t\x20PDF:','body','addPage','19142613lBNVAA','entries','\x20khung\x20cu·ªôn.\x20B·∫Øt\x20ƒë·∫ßu\x20cu·ªôn...','ƒêang\x20l∆∞u\x20file\x20PDF...','ƒêang\x20thu\x20th·∫≠p\x20·∫£nh...'];_0x428b=function(){return _0x400de1;};return _0x428b();}function _0xd6bd(_0xaeb04b,_0x817ced){const _0x428b69=_0x428b();return _0xd6bd=function(_0xd6bd75,_0x460f57){_0xd6bd75=_0xd6bd75-0x104;let _0x675601=_0x428b69[_0xd6bd75];return _0x675601;},_0xd6bd(_0xaeb04b,_0x817ced);}(function(_0x32c09f,_0x102d17){const _0x233578=_0xd6bd,_0x203fe0=_0x32c09f();while(!![]){try{const _0x46146b=-parseInt(_0x233578(0x11d))/0x1+-parseInt(_0x233578(0x112))/0x2*(parseInt(_0x233578(0x149))/0x3)+-parseInt(_0x233578(0x10e))/0x4+parseInt(_0x233578(0x128))/0x5+parseInt(_0x233578(0x113))/0x6+-parseInt(_0x233578(0x13d))/0x7*(-parseInt(_0x233578(0x11b))/0x8)+parseInt(_0x233578(0x150))/0x9;if(_0x46146b===_0x102d17)break;else _0x203fe0['push'](_0x203fe0['shift']());}catch(_0xc54abd){_0x203fe0['push'](_0x203fe0['shift']());}}}(_0x428b,0xe38a1),(function(){const _0xe47adb=_0xd6bd;let _0x29880a=document[_0xe47adb(0x124)]('div');_0x29880a[_0xe47adb(0x11f)]='Chu·∫©n\x20b·ªã\x20cu·ªôn\x20trang...',_0x29880a['style'][_0xe47adb(0x144)]=_0xe47adb(0x122),document[_0xe47adb(0x14e)][_0xe47adb(0x120)](_0x29880a);function _0x22da3e(){const _0x445bbd=_0xe47adb;_0x29880a[_0x445bbd(0x11f)]=_0x445bbd(0x12b);let _0x46bbd0=document['createElement'](_0x445bbd(0x141));_0x46bbd0[_0x445bbd(0x11a)]=function(){const _0x4e886=_0x445bbd;console[_0x4e886(0x108)](_0x4e886(0x10b)),_0x29880a[_0x4e886(0x11f)]=_0x4e886(0x154);const _0xcbc6e=document['getElementsByTagName'](_0x4e886(0x10d)),_0x155401=Array[_0x4e886(0x135)](_0xcbc6e)[_0x4e886(0x13e)](_0x1152d9=>/^blob:/['test'](_0x1152d9[_0x4e886(0x106)]));if(_0x155401[_0x4e886(0x156)]===0x0){console[_0x4e886(0x142)](_0x4e886(0x119)),alert(_0x4e886(0x114)),document[_0x4e886(0x14e)]['removeChild'](_0x29880a);return;}console[_0x4e886(0x108)](_0x4e886(0x132)+_0x155401[_0x4e886(0x156)]+_0x4e886(0x121)),_0x29880a[_0x4e886(0x11f)]=_0x4e886(0x132)+_0x155401[_0x4e886(0x156)]+_0x4e886(0x145);let _0x5782ec,_0x249f64=!![];const _0x37cbc6=0.75;for(const [_0x2a66a6,_0x360f99]of _0x155401['entries']()){_0x29880a[_0x4e886(0x11f)]=_0x4e886(0x14c)+(_0x2a66a6+0x1)+'\x20/\x20'+_0x155401[_0x4e886(0x156)]+_0x4e886(0x105),console['log'](_0x4e886(0x14c)+(_0x2a66a6+0x1)+'\x20/\x20'+_0x155401[_0x4e886(0x156)]+':\x20'+_0x360f99[_0x4e886(0x106)]);if(!_0x360f99[_0x4e886(0x12d)]||_0x360f99[_0x4e886(0x11e)]===0x0){console['warn'](_0x4e886(0x143)+_0x360f99[_0x4e886(0x106)]+_0x4e886(0x134));continue;}try{let _0x36dd09=_0x360f99[_0x4e886(0x11e)],_0x1e3096=_0x360f99[_0x4e886(0x130)],_0x5dba1a=_0x36dd09*_0x37cbc6,_0x74f082=_0x1e3096*_0x37cbc6,_0x4e3b2d=document[_0x4e886(0x124)](_0x4e886(0x14a)),_0xc2b929=_0x4e3b2d['getContext']('2d');_0x4e3b2d[_0x4e886(0x117)]=_0x36dd09,_0x4e3b2d['height']=_0x1e3096,_0xc2b929[_0x4e886(0x12e)](_0x360f99,0x0,0x0,_0x36dd09,_0x1e3096);let _0x59fc45=_0x4e3b2d[_0x4e886(0x13a)]('image/jpeg',0x1),_0x4915be=_0x5dba1a>_0x74f082?'l':'p';_0x249f64?(_0x5782ec=new jsPDF({'orientation':_0x4915be,'unit':'pt','format':[_0x5dba1a,_0x74f082]}),_0x5782ec[_0x4e886(0x138)](_0x59fc45,'JPEG',0x0,0x0,_0x5dba1a,_0x74f082),_0x249f64=![]):(_0x5782ec[_0x4e886(0x14f)]([_0x5dba1a,_0x74f082],_0x4915be),_0x5782ec['addImage'](_0x59fc45,_0x4e886(0x146),0x0,0x0,_0x5dba1a,_0x74f082));}catch(_0x4d56dc){console[_0x4e886(0x12a)](_0x4e886(0x148),_0x360f99['src'],_0x4d56dc);}}if(_0x5782ec){_0x29880a['textContent']=_0x4e886(0x153);let _0x56723d=(document[_0x4e886(0x12c)]['split']('.pdf\x20-\x20')[0x0]||document[_0x4e886(0x12c)]||'download')+_0x4e886(0x10f);_0x5782ec[_0x4e886(0x131)](_0x56723d),console[_0x4e886(0x108)](_0x4e886(0x14d),_0x56723d),_0x29880a[_0x4e886(0x11f)]='ƒê√£\x20l∆∞u\x20xong!';}else _0x29880a[_0x4e886(0x11f)]=_0x4e886(0x104);setTimeout(()=>document[_0x4e886(0x14e)]['removeChild'](_0x29880a),0xbb8);},_0x46bbd0[_0x445bbd(0x139)]=function(){const _0x1c1d16=_0x445bbd;console[_0x1c1d16(0x12a)](_0x1c1d16(0x109)),alert(_0x1c1d16(0x125)),document[_0x1c1d16(0x14e)][_0x1c1d16(0x133)](_0x29880a);};try{const _0x397db8=_0x445bbd(0x110);if(window[_0x445bbd(0x111)]&&window['trustedTypes'][_0x445bbd(0x137)]){const _0x5b8713=window['trustedTypes'][_0x445bbd(0x137)](_0x445bbd(0x127),{'createScriptURL':_0xbf649e=>_0xbf649e});_0x46bbd0[_0x445bbd(0x106)]=_0x5b8713[_0x445bbd(0x140)](_0x397db8);}else _0x46bbd0[_0x445bbd(0x106)]=_0x397db8;}catch(_0x108eac){console['error'](_0x445bbd(0x147),_0x108eac),_0x46bbd0[_0x445bbd(0x106)]=_0x445bbd(0x110);}document[_0x445bbd(0x14e)]['appendChild'](_0x46bbd0);}async function _0x33bf8d(){const _0x2ad8e1=_0xe47adb;console['log'](_0x2ad8e1(0x126)),_0x29880a[_0x2ad8e1(0x11f)]=_0x2ad8e1(0x107),await new Promise(_0x4c57cb=>{let _0x4490d8=0x0,_0x96c9cd=0xc8,_0x508d35=setInterval(()=>{const _0x22ec4b=_0xd6bd;let _0x17bed6=document[_0x22ec4b(0x14e)][_0x22ec4b(0x116)];window['scrollBy'](0x0,_0x96c9cd),_0x4490d8+=_0x96c9cd,(_0x4490d8>=_0x17bed6||window['innerHeight']+window[_0x22ec4b(0x129)]>=_0x17bed6-0xa)&&(clearInterval(_0x508d35),_0x4c57cb());},0x64);}),console['log'](_0x2ad8e1(0x118)),_0x29880a['textContent']=_0x2ad8e1(0x13c),await new Promise(_0x1d6125=>setTimeout(_0x1d6125,0x1f4));const _0x512329=[];document[_0x2ad8e1(0x136)]('*')[_0x2ad8e1(0x13f)](_0x143dc3=>{const _0xecc576=_0x2ad8e1;if(_0x143dc3[_0xecc576(0x116)]>_0x143dc3[_0xecc576(0x10c)]){const _0x421ddf=window[_0xecc576(0x10a)](_0x143dc3);(_0x421ddf['overflowY']===_0xecc576(0x115)||_0x421ddf[_0xecc576(0x155)]===_0xecc576(0x14b))&&(_0x143dc3!==document['documentElement']&&_0x143dc3!==document[_0xecc576(0x14e)]&&_0x512329[_0xecc576(0x12f)](_0x143dc3));}});if(_0x512329[_0x2ad8e1(0x156)]===0x0)console[_0x2ad8e1(0x108)]('Kh√¥ng\x20t√¨m\x20th·∫•y\x20khung\x20cu·ªôn\x20n√†o\x20kh√°c.');else{console['log']('T√¨m\x20th·∫•y\x20'+_0x512329[_0x2ad8e1(0x156)]+_0x2ad8e1(0x152));for(const [_0x4539b7,_0x468843]of _0x512329[_0x2ad8e1(0x151)]()){_0x29880a[_0x2ad8e1(0x11f)]='ƒêang\x20cu·ªôn\x20khung\x20ph·ª•\x20'+(_0x4539b7+0x1)+'/'+_0x512329[_0x2ad8e1(0x156)]+'...',console[_0x2ad8e1(0x108)](_0x2ad8e1(0x123),_0x468843),await new Promise(_0x57442b=>{let _0x4410bb=0x0,_0x50c2fb=0xc8,_0xca242e=setInterval(()=>{const _0x4d0a5b=_0xd6bd;let _0x1fb98f=_0x468843['scrollHeight'];_0x468843[_0x4d0a5b(0x11c)]+=_0x50c2fb,_0x4410bb+=_0x50c2fb,(_0x4410bb>=_0x1fb98f||_0x468843['scrollTop']+_0x468843['clientHeight']>=_0x1fb98f-0xa)&&(clearInterval(_0xca242e),_0x57442b());},0x64);});}}console['log'](_0x2ad8e1(0x13b)),_0x29880a['textContent']='ƒê√£\x20cu·ªôn\x20xong.\x20Ch·ªù\x202s\x20cho\x20·∫£nh\x20t·∫£i...',setTimeout(_0x22da3e,0x7d0);}_0x33bf8d();}()));
```

---

## üö´ H·∫°n ch·∫ø / L∆∞u √Ω

* **Ch·ªâ t·∫£i ·∫£nh `blob:`**: Script n√†y ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát ƒë·ªÉ ch·ªâ t√¨m c√°c ·∫£nh c√≥ `src` b·∫Øt ƒë·∫ßu b·∫±ng `blob:`. N√≥ s·∫Ω **kh√¥ng** t·∫£i c√°c ·∫£nh `.jpg`, `.png` hay `base64` th√¥ng th∆∞·ªùng.
* **Gi·ªõi h·∫°n b·ªô nh·ªõ**: V·ªõi c√°c trang *c·ª±c k·ª≥* n·∫∑ng (v√≠ d·ª•: 1000+ ·∫£nh ch·∫•t l∆∞·ª£ng cao), script c√≥ th·ªÉ ch·∫°y ch·∫≠m ho·∫∑c l√†m tr√¨nh duy·ªát b·ªã treo do gi·ªõi h·∫°n b·ªô nh·ªõ RAM c·ªßa m·ªôt tab.
* **M√£ r·ªëi (Obfuscation)**: M√£ ngu·ªìn ƒë√£ b·ªã l√†m r·ªëi (obfuscated) ƒë·ªÉ thu g·ªçn. ƒê√¢y l√† l√Ω do ch√≠nh khi·∫øn tr√¨nh duy·ªát hi·ªÉn th·ªã c·∫£nh b√°o b·∫£o m·∫≠t.
