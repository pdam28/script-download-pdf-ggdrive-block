# Script T·∫£i ·∫¢nh (Blob) sang PDF (Phi√™n b·∫£n Console)

![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)
![jsPDF](https://img.shields.io/badge/jsPDF-FF0000?style=for-the-badge&logo=adobeacrobatreader&logoColor=white)

ƒê√¢y l√† m·ªôt ƒëo·∫°n m√£ JavaScript m·∫°nh m·∫Ω ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ch·∫°y tr·ª±c ti·∫øp trong Console c·ªßa tr√¨nh duy·ªát. N√≥ t·ª± ƒë·ªông qu√©t, cu·ªôn v√† t·∫£i xu·ªëng t·∫•t c·∫£ c√°c h√¨nh ·∫£nh c√≥ ngu·ªìn `blob:` tr√™n m·ªôt trang web v√† t·ªïng h·ª£p ch√∫ng th√†nh m·ªôt file PDF duy nh·∫•t.

---

## üåü T√≠nh nƒÉng ch√≠nh

* **T·ª± ƒë·ªông cu·ªôn th√¥ng minh**: T·ª± ƒë·ªông cu·ªôn trang ch√≠nh V√Ä **t·∫•t c·∫£ c√°c khung cu·ªôn con** b√™n trong ƒë·ªÉ k√≠ch ho·∫°t "lazy loading", ƒë·∫£m b·∫£o thu th·∫≠p ƒë·ªß 100% ·∫£nh.
* **T·ªïng h·ª£p PDF**: S·ª≠ d·ª•ng th∆∞ vi·ªán `jsPDF` (t·∫£i t·ª± ƒë·ªông) ƒë·ªÉ gh√©p t·∫•t c·∫£ ·∫£nh t√¨m ƒë∆∞·ª£c th√†nh m·ªôt file PDF duy nh·∫•t.
* **Ch·∫•t l∆∞·ª£ng cao**: Gi·ªØ nguy√™n ƒë·ªô ph√¢n gi·∫£i g·ªëc c·ªßa ·∫£nh (`naturalWidth`/`naturalHeight`) v√† t·ª± ƒë·ªông t√≠nh to√°n t·ªâ l·ªá `px` sang `pt` (0.75) ƒë·ªÉ PDF c√≥ k√≠ch th∆∞·ªõc ch√≠nh x√°c.
* **Th√¥ng b√°o tr·∫°ng th√°i**: Hi·ªÉn th·ªã m·ªôt h·ªôp th√¥ng b√°o tr·ª±c quan ·ªü g√≥c tr√™n b√™n ph·∫£i m√†n h√¨nh ƒë·ªÉ ng∆∞·ªùi d√πng bi·∫øt ch√≠nh x√°c ƒëi·ªÅu g√¨ ƒëang x·∫£y ra (v√≠ d·ª•: "ƒêang cu·ªôn...", "ƒêang x·ª≠ l√Ω ·∫£nh 5/150...").

---

## üöÄ H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng

Vui l√≤ng l√†m theo ch√≠nh x√°c c√°c b∆∞·ªõc sau:

1.  M·ªü trang web c√≥ ch·ª©a c√°c ·∫£nh `blob:` m√† b·∫°n mu·ªën t·∫£i.
2.  Nh·∫•n ph√≠m `F12` (ho·∫∑c `Ctrl+Shift+I` tr√™n Windows, `Cmd+Opt+I` tr√™n Mac) ƒë·ªÉ m·ªü c√¥ng c·ª• l·∫≠p tr√¨nh (Developer Tools).
3.  T√¨m v√† nh·∫•p v√†o tab c√≥ t√™n **`Console`**.
4.  ƒê·ªçc k·ªπ ph·∫ßn **C·∫¢NH B√ÅO B·∫¢O M·∫¨T** quan tr·ªçng ·ªü b√™n d∆∞·ªõi.
5.  Sao ch√©p (copy) **to√†n b·ªô** kh·ªëi m√£ trong ph·∫ßn [M√£ ngu·ªìn](#-m√£-ngu·ªìn-d√πng-ƒë·ªÉ-sao-ch√©p) b√™n d∆∞·ªõi.
6.  Quay l·∫°i tab `Console` trong tr√¨nh duy·ªát c·ªßa b·∫°n, d√°n (paste) m√£ v√†o v√† nh·∫•n `Enter`.
7.  Script s·∫Ω t·ª± ƒë·ªông ch·∫°y, b·∫°n s·∫Ω th·∫•y th√¥ng b√°o "Chu·∫©n b·ªã cu·ªôn trang..." ·ªü g√≥c tr√™n b√™n ph·∫£i.

---

## ‚ö†Ô∏è C·∫¢NH B√ÅO B·∫¢O M·∫¨T (Quan tr·ªçng!)

Khi b·∫°n d√°n m√£ v√†o `Console`, h·∫ßu h·∫øt c√°c tr√¨nh duy·ªát hi·ªán ƒë·∫°i (nh∆∞ Chrome, Firefox, Edge) s·∫Ω **hi·ªÉn th·ªã m·ªôt c·∫£nh b√°o b·∫£o m·∫≠t l·ªõn m√†u ƒë·ªè**.

N√≥ th∆∞·ªùng n√≥i ƒëi·ªÅu g√¨ ƒë√≥ nh∆∞ **"STOP!"** ho·∫∑c **"C·∫©n th·∫≠n!"** v√† ngƒÉn b·∫°n d√°n m√£ v√†o. ƒê√¢y l√† m·ªôt t√≠nh nƒÉng b·∫£o m·∫≠t b√¨nh th∆∞·ªùng ƒë·ªÉ ngƒÉn ng∆∞·ªùi l·∫° l·ª´a b·∫°n ch·∫°y m√£ ƒë·ªôc.



**ƒê·ªÉ v∆∞·ª£t qua c·∫£nh b√°o n√†y:**

* Tr√¨nh duy·ªát s·∫Ω y√™u c·∫ßu b·∫°n g√µ m·ªôt d√≤ng ch·ªØ ƒë·∫∑c bi·ªát (v√≠ d·ª•: **`allow pasting`** ho·∫∑c **`cho ph√©p d√°n`**) v√†o Console ƒë·ªÉ x√°c nh·∫≠n b·∫°n hi·ªÉu vi·ªác m√¨nh ƒëang l√†m.
* H√£y **g√µ ch√≠nh x√°c d√≤ng ch·ªØ ƒë√≥** v√† nh·∫•n `Enter`.
* Sau khi x√°c nh·∫≠n, **d√°n l·∫°i (paste) m√£ ngu·ªìn** ·ªü d∆∞·ªõi m·ªôt l·∫ßn n·ªØa v√† nh·∫•n `Enter`. L·∫ßn n√†y script s·∫Ω ch·∫°y.

---

## üìã M√£ ngu·ªìn (D√πng ƒë·ªÉ sao ch√©p)

Sao ch√©p **to√†n b·ªô** kh·ªëi m√£ d∆∞·ªõi ƒë√¢y:

```javascript
function _0x79fa(_0x49b918,_0x38409e){const _0x553f56=_0x553f();return _0x79fa=function(_0x79fa0,_0x2d9cb5){_0x79fa0=_0x79fa0-0xa7;let _0x223b3e=_0x553f56[_0x79fa0];return _0x223b3e;},_0x79fa(_0x49b918,_0x38409e);}(function(_0xc9dfb2,_0x7cfd3){const _0x126f86=_0x79fa,_0x38fafd=_0xc9dfb2();while(!![]){try{const _0x15acf0=parseInt(_0x126f86(0xd0))/0x1+parseInt(_0x126f86(0xe3))/0x2+-parseInt(_0x126f86(0xab))/0x3+-parseInt(_0x126f86(0xa9))/0x4+parseInt(_0x126f86(0xdb))/0x5*(parseInt(_0x126f86(0xec))/0x6)+parseInt(_0x126f86(0xf3))/0x7+parseInt(_0x126f86(0xc5))/0x8*(parseInt(_0x126f86(0xaa))/0x9);if(_0x15acf0===_0x7cfd3)break;else _0x38fafd['push'](_0x38fafd['shift']());}catch(_0x5456cb){_0x38fafd['push'](_0x38fafd['shift']());}}}(_0x553f,0xc0405),(function(){const _0x28ea98=_0x79fa;let _0x27bd4d=document['createElement'](_0x28ea98(0xdd));_0x27bd4d[_0x28ea98(0xac)]='Chu·∫©n\x20b·ªã\x20cu·ªôn\x20trang...',_0x27bd4d['style'][_0x28ea98(0xc1)]=_0x28ea98(0xd2),document[_0x28ea98(0xc8)]['appendChild'](_0x27bd4d);function _0x5e3b7c(){const _0x33f3a5=_0x28ea98;_0x27bd4d[_0x33f3a5(0xac)]='ƒêang\x20t·∫£i\x20th∆∞\x20vi·ªán\x20jsPDF...';let _0x100dac=document[_0x33f3a5(0xd3)]('script');_0x100dac[_0x33f3a5(0xb0)]=function(){const _0x28aba3=_0x33f3a5;console[_0x28aba3(0xc0)](_0x28aba3(0xe8)),_0x27bd4d[_0x28aba3(0xac)]=_0x28aba3(0xf5);const _0x28af43=document[_0x28aba3(0xbc)](_0x28aba3(0xda)),_0x137613=Array['from'](_0x28af43)[_0x28aba3(0xe9)](_0x1abf33=>/^blob:/[_0x28aba3(0xba)](_0x1abf33['src']));if(_0x137613['length']===0x0){console['warn'](_0x28aba3(0xd6)),alert(_0x28aba3(0xf6)),document['body']['removeChild'](_0x27bd4d);return;}console['log'](_0x28aba3(0xb6)+_0x137613['length']+_0x28aba3(0xc6));const _0x5bde08=0xa,_0x2ea47f=0.5,_0x2b2a6f=0.2;let _0x52fbb9=_0x2ea47f;_0x137613[_0x28aba3(0xcb)]>_0x5bde08&&(_0x52fbb9=_0x2b2a6f);_0x27bd4d[_0x28aba3(0xac)]=_0x28aba3(0xb6)+_0x137613[_0x28aba3(0xcb)]+_0x28aba3(0xae);let _0x5e3c81,_0x1acc0e=!![];const _0x5dcadd=0.75;for(const [_0x394a78,_0x357dd1]of _0x137613[_0x28aba3(0xe0)]()){_0x27bd4d[_0x28aba3(0xac)]=_0x28aba3(0xb8)+(_0x394a78+0x1)+'\x20/\x20'+_0x137613[_0x28aba3(0xcb)]+'...';if(!_0x357dd1['complete']||_0x357dd1['naturalWidth']===0x0){console['warn'](_0x28aba3(0xaf)+_0x357dd1[_0x28aba3(0xe6)]+_0x28aba3(0xad));continue;}try{let _0x4455eb=_0x357dd1[_0x28aba3(0xb4)],_0x49fcf4=_0x357dd1[_0x28aba3(0xce)],_0x57adeb=_0x4455eb*_0x5dcadd,_0x2ad696=_0x49fcf4*_0x5dcadd,_0x20adb3=document[_0x28aba3(0xd3)](_0x28aba3(0xd5)),_0x2f50da=_0x20adb3[_0x28aba3(0xcd)]('2d');_0x20adb3[_0x28aba3(0xd8)]=_0x4455eb,_0x20adb3[_0x28aba3(0xb3)]=_0x49fcf4,_0x2f50da[_0x28aba3(0xf8)](_0x357dd1,0x0,0x0,_0x4455eb,_0x49fcf4);let _0x201982=_0x20adb3[_0x28aba3(0xbb)](_0x28aba3(0xf0),_0x52fbb9),_0x201105=_0x57adeb>_0x2ad696?'l':'p';_0x1acc0e?(_0x5e3c81=new jsPDF({'orientation':_0x201105,'unit':'pt','format':[_0x57adeb,_0x2ad696]}),_0x5e3c81[_0x28aba3(0xcc)](_0x201982,'JPEG',0x0,0x0,_0x57adeb,_0x2ad696),_0x1acc0e=![]):(_0x5e3c81[_0x28aba3(0xbe)]([_0x57adeb,_0x2ad696],_0x201105),_0x5e3c81[_0x28aba3(0xcc)](_0x201982,_0x28aba3(0xb9),0x0,0x0,_0x57adeb,_0x2ad696));}catch(_0x29dc54){console[_0x28aba3(0xb2)]('L·ªói\x20khi\x20x·ª≠\x20l√Ω\x20·∫£nh:',_0x357dd1[_0x28aba3(0xe6)],_0x29dc54);}}if(_0x5e3c81){_0x27bd4d[_0x28aba3(0xac)]=_0x28aba3(0xeb);let _0x27e33f=(document['title'][_0x28aba3(0xf1)](_0x28aba3(0xc3))[0x0]||document['title']||_0x28aba3(0xf4))+'.pdf';_0x5e3c81[_0x28aba3(0xd7)](_0x27e33f),console[_0x28aba3(0xc0)]('ƒê√£\x20xu·∫•t\x20PDF:',_0x27e33f),_0x27bd4d[_0x28aba3(0xac)]=_0x28aba3(0xd4);}else _0x27bd4d['textContent']=_0x28aba3(0xe2);setTimeout(()=>document[_0x28aba3(0xc8)][_0x28aba3(0xfa)](_0x27bd4d),0xbb8);},_0x100dac[_0x33f3a5(0xb5)]=function(){const _0x1650f0=_0x33f3a5;console[_0x1650f0(0xb2)]('Kh√¥ng\x20th·ªÉ\x20t·∫£i\x20script\x20jsPDF.'),alert(_0x1650f0(0xc4)),document['body'][_0x1650f0(0xfa)](_0x27bd4d);};try{const _0x212f72=_0x33f3a5(0xf9);if(window[_0x33f3a5(0xa7)]&&window[_0x33f3a5(0xa7)]['createPolicy']){const _0x46ced2=window[_0x33f3a5(0xa7)][_0x33f3a5(0xdf)](_0x33f3a5(0xbf),{'createScriptURL':_0xd8179c=>_0xd8179c});_0x100dac[_0x33f3a5(0xe6)]=_0x46ced2[_0x33f3a5(0xb7)](_0x212f72);}else _0x100dac[_0x33f3a5(0xe6)]=_0x212f72;}catch(_0x270091){console[_0x33f3a5(0xb2)]('L·ªói\x20khi\x20g√°n\x20URL\x20an\x20to√†n\x20(Trusted\x20Types):\x20',_0x270091),_0x100dac['src']='https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js';}document[_0x33f3a5(0xc8)][_0x33f3a5(0xbd)](_0x100dac);}async function _0x20c41a(){const _0x5ad159=_0x28ea98;console[_0x5ad159(0xc0)](_0x5ad159(0xd1)),_0x27bd4d[_0x5ad159(0xac)]=_0x5ad159(0xe1),await new Promise(_0xadd1c7=>{let _0x3aa398=0x0,_0x417b42=0xc8,_0x126627=setInterval(()=>{const _0x132ba0=_0x79fa;let _0x5f05d9=document[_0x132ba0(0xc8)][_0x132ba0(0xe5)];window[_0x132ba0(0xf7)](0x0,_0x417b42),_0x3aa398+=_0x417b42,(_0x3aa398>=_0x5f05d9||window['innerHeight']+window[_0x132ba0(0xe4)]>=_0x5f05d9-0xa)&&(clearInterval(_0x126627),_0xadd1c7());},0x64);}),console['log'](_0x5ad159(0xee)),_0x27bd4d[_0x5ad159(0xac)]=_0x5ad159(0xed),await new Promise(_0x54e9ae=>setTimeout(_0x54e9ae,0x1f4));const _0x4e0620=[];document[_0x5ad159(0xb1)]('*')['forEach'](_0x425f69=>{const _0x555421=_0x5ad159;if(_0x425f69[_0x555421(0xe5)]>_0x425f69[_0x555421(0xe7)]){const _0x2a79c0=window[_0x555421(0xdc)](_0x425f69);(_0x2a79c0[_0x555421(0xc7)]===_0x555421(0xcf)||_0x2a79c0['overflowY']===_0x555421(0xea))&&(_0x425f69!==document[_0x555421(0xc2)]&&_0x425f69!==document[_0x555421(0xc8)]&&_0x4e0620['push'](_0x425f69));}});if(_0x4e0620['length']===0x0)console[_0x5ad159(0xc0)](_0x5ad159(0xca));else{console[_0x5ad159(0xc0)](_0x5ad159(0xb6)+_0x4e0620['length']+_0x5ad159(0xa8));for(const [_0x26ba29,_0x15814c]of _0x4e0620[_0x5ad159(0xe0)]()){_0x27bd4d[_0x5ad159(0xac)]=_0x5ad159(0xd9)+(_0x26ba29+0x1)+'/'+_0x4e0620[_0x5ad159(0xcb)]+_0x5ad159(0xc9),console[_0x5ad159(0xc0)](_0x5ad159(0xf2),_0x15814c),await new Promise(_0x38d976=>{let _0x562e8d=0x0,_0x7ac662=0xc8,_0x4becbf=setInterval(()=>{const _0x4659aa=_0x79fa;let _0x41f973=_0x15814c[_0x4659aa(0xe5)];_0x15814c[_0x4659aa(0xef)]+=_0x7ac662,_0x562e8d+=_0x7ac662,(_0x562e8d>=_0x41f973||_0x15814c[_0x4659aa(0xef)]+_0x15814c[_0x4659aa(0xe7)]>=_0x41f973-0xa)&&(clearInterval(_0x4becbf),_0x38d976());},0x64);});}}console[_0x5ad159(0xc0)]('ƒê√£\x20cu·ªôn\x20t·∫•t\x20c·∫£.\x20Ch·ªù\x202\x20gi√¢y\x20cho\x20·∫£nh\x20t·∫£i.'),_0x27bd4d[_0x5ad159(0xac)]=_0x5ad159(0xde),setTimeout(_0x5e3b7c,0x7d0);}_0x20c41a();}()));function _0x553f(){const _0x48fefc=['documentElement','.pdf\x20-\x20','Kh√¥ng\x20th·ªÉ\x20t·∫£i\x20th∆∞\x20vi·ªán\x20jsPDF.\x20Vui\x20l√≤ng\x20ki·ªÉm\x20tra\x20k·∫øt\x20n·ªëi\x20m·∫°ng.','15832uDkkas','\x20·∫£nh\x20blob.','overflowY','body','...','Kh√¥ng\x20t√¨m\x20th·∫•y\x20khung\x20cu·ªôn\x20n√†o\x20kh√°c.','length','addImage','getContext','naturalHeight','scroll','236292gRUTKj','B·∫Øt\x20ƒë·∫ßu\x20cu·ªôn\x20trang\x20ch√≠nh\x20(window)...','position:\x20fixed;\x20top:\x2010px;\x20right:\x2010px;\x20padding:\x2015px;\x20background-color:\x20#007bff;\x20color:\x20white;\x20z-index:\x209999;\x20border-radius:\x205px;\x20font-family:\x20sans-serif;','createElement','ƒê√£\x20l∆∞u\x20xong!','canvas','Kh√¥ng\x20t√¨m\x20th·∫•y\x20·∫£nh\x20blob\x20n√†o.\x20(ƒê√£\x20cu·ªôn\x20h·∫øt\x20nh∆∞ng\x20kh√¥ng\x20c√≥\x20·∫£nh).','save','width','ƒêang\x20cu·ªôn\x20khung\x20ph·ª•\x20','img','5EAHqmH','getComputedStyle','div','ƒê√£\x20cu·ªôn\x20xong.\x20Ch·ªù\x202s\x20cho\x20·∫£nh\x20t·∫£i...','createPolicy','entries','ƒêang\x20cu·ªôn\x20trang\x20ch√≠nh...','L·ªói:\x20Kh√¥ng\x20t·∫°o\x20ƒë∆∞·ª£c\x20file\x20PDF.','1493626RmpUak','scrollY','scrollHeight','src','clientHeight','jsPDF\x20ƒë√£\x20t·∫£i\x20xong.','filter','auto','ƒêang\x20l∆∞u\x20file\x20PDF...','3465066WWvFIT','ƒêang\x20t√¨m\x20khung\x20cu·ªôn\x20b√™n\x20trong...','ƒê√£\x20cu·ªôn\x20xong\x20trang\x20ch√≠nh.\x20T√¨m\x20ki·∫øm\x20khung\x20cu·ªôn\x20b√™n\x20trong...','scrollTop','image/jpeg','split','ƒêang\x20cu·ªôn\x20element:','5560702xihqlc','download','ƒêang\x20thu\x20th·∫≠p\x20·∫£nh...','Kh√¥ng\x20t√¨m\x20th·∫•y\x20·∫£nh\x20(blob)\x20n√†o.\x20Script\x20ƒë√£\x20cu·ªôn\x20t·ª±\x20ƒë·ªông\x20nh∆∞ng\x20kh√¥ng\x20th·∫•y\x20·∫£nh.','scrollBy','drawImage','https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js','removeChild','trustedTypes','\x20khung\x20cu·ªôn.\x20B·∫Øt\x20ƒë·∫ßu\x20cu·ªôn...','5366456ZDMtYh','5913gQuodH','4578390dgcjVX','textContent','\x20ch∆∞a\x20t·∫£i\x20xong\x20ho·∫∑c\x20b·ªã\x20l·ªói,\x20b·ªè\x20qua.','\x20·∫£nh.\x20B·∫Øt\x20ƒë·∫ßu\x20x·ª≠\x20l√Ω...','·∫¢nh\x20','onload','querySelectorAll','error','height','naturalWidth','onerror','T√¨m\x20th·∫•y\x20','createScriptURL','ƒêang\x20x·ª≠\x20l√Ω\x20·∫£nh\x20','JPEG','test','toDataURL','getElementsByTagName','appendChild','addPage','default','log','cssText'];_0x553f=function(){return _0x48fefc;};return _0x553f();}
```

---

## üö´ H·∫°n ch·∫ø / L∆∞u √Ω

* **Ch·ªâ t·∫£i ·∫£nh `blob:`**: Script n√†y ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát ƒë·ªÉ ch·ªâ t√¨m c√°c ·∫£nh c√≥ `src` b·∫Øt ƒë·∫ßu b·∫±ng `blob:`. N√≥ s·∫Ω **kh√¥ng** t·∫£i c√°c ·∫£nh `.jpg`, `.png` hay `base64` th√¥ng th∆∞·ªùng.
* **Gi·ªõi h·∫°n b·ªô nh·ªõ**: V·ªõi c√°c trang *c·ª±c k·ª≥* n·∫∑ng (v√≠ d·ª•: 1000+ ·∫£nh ch·∫•t l∆∞·ª£ng cao), script c√≥ th·ªÉ ch·∫°y ch·∫≠m ho·∫∑c l√†m tr√¨nh duy·ªát b·ªã treo do gi·ªõi h·∫°n b·ªô nh·ªõ RAM c·ªßa m·ªôt tab.
* **M√£ r·ªëi (Obfuscation)**: M√£ ngu·ªìn ƒë√£ b·ªã l√†m r·ªëi (obfuscated) ƒë·ªÉ thu g·ªçn. ƒê√¢y l√† l√Ω do ch√≠nh khi·∫øn tr√¨nh duy·ªát hi·ªÉn th·ªã c·∫£nh b√°o b·∫£o m·∫≠t.
